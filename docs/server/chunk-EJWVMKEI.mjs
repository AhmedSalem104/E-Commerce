import './polyfills.server.mjs';
import{a as R,b as V,c as z}from"./chunk-3ZT4XYS7.mjs";import{a as j}from"./chunk-TXJXO3IJ.mjs";import{a as E}from"./chunk-5EFKSLA3.mjs";import{a as F}from"./chunk-S7PR75XC.mjs";import"./chunk-KU5BKOKS.mjs";import"./chunk-GTSSCL6B.mjs";import{i as k,l as A}from"./chunk-UXWLCPGU.mjs";import"./chunk-24LQVYIO.mjs";import{Bb as y,Cb as s,Jb as c,Kb as w,Lb as _,Pa as g,Qb as O,Rb as M,Ta as r,Ua as P,Z as m,ba as T,ib as u,kb as p,la as C,ma as v,ob as x,pb as h,qb as b,rb as D,sb as o,tb as l,ub as d,xb as S,ya as I}from"./chunk-3OXFT4D6.mjs";import"./chunk-VVCT4QZE.mjs";var $=()=>[1,2,3,4,5];function U(t,a){if(t&1&&d(0,"img",7,0),t&2){let e=s(2);p("src",e.ProductDetails.data.images[0],g)}}function B(t,a){if(t&1&&d(0,"img",7,0),t&2){let e=s(2);p("src",e.mainSrcImage,g)}}function G(t,a){if(t&1){let e=S();o(0,"div")(1,"img",26,1),y("click",function(){C(e);let n=s().$implicit,f=s(2);return v(f.getSrc(n))}),l()()}if(t&2){let e=s().$implicit;r(),p("src",e,g)}}function H(t,a){t&1&&u(0,G,3,1,"ng-template",13)}function L(t,a){t&1&&d(0,"i",22)}function q(t,a){t&1&&d(0,"i",23)}function J(t,a){if(t&1){let e=S();o(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),u(5,U,2,1,"img",7)(6,B,2,1),l()(),o(7,"div"),d(8,"hr",8),l(),o(9,"div",9)(10,"div",10)(11,"div",11)(12,"owl-carousel-o",12),b(13,H,1,0,null,13,h),l()()(),o(15,"div",14)(16,"h1",15),c(17),l(),o(18,"p",16),c(19),l(),o(20,"div",17)(21,"span",18),c(22),l()(),o(23,"div",17)(24,"span",19),c(25),o(26,"span",20),c(27," EGP"),l()(),o(28,"div",21),b(29,L,1,0,"i",22,h),u(31,q,1,0,"i",23),o(32,"span",24),c(33),l()()(),o(34,"button",25),y("click",function(){C(e);let n=s();return v(n.addToCart(n.ProductDetails.data._id))}),c(35," Add to Cart "),l()()()()()()}if(t&2){let e=s();r(5),x(5,e.mainSrcImage==""?5:6),r(7),p("options",e.customOptionsMain),r(),D(e.ProductDetailsImages),r(4),_(" ",e.ProductDetails.data.title.split(" ").splice(0,5).join(" "),""),r(2),_(" ",e.ProductDetails.data.description," "),r(3),_(" ",e.ProductDetails.data.category.name,""),r(3),_(" ",e.ProductDetails.data.price,""),r(4),D(M(8,$).slice(0,e.ProductDetails.data.ratingsAverage)),r(2),x(31,e.ProductDetails.data.ratingsAverage%1!==0?31:-1),r(2),w(e.ProductDetails.data.ratingsAverage)}}var nt=(()=>{let a=class a{getSrc(i){this.mainSrcImage=i}constructor(i,n){this._ActivatedRoute=i,this._ProductsService=n,this.Id=m(I),this._Router=m(A),this._CartService=m(E),this._ToastrService=m(F),this.mainSrcImage="",this.ProductDetailsloadingClass="hidden",this.customOptionsMain={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,autoplay:!0,rtl:!0,margin:5,autoplayTimeout:6e3,autoplayHoverPause:!0,dots:!1,navSpeed:700,navText:['<i class="fa-solid fa-angles-left main-color"></i>','<i class="fa-solid fa-angles-right main-color"></i>'],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!0}}ngOnInit(){this.ProductDetailsloadingClass="flex",this._ActivatedRoute.paramMap.subscribe({next:i=>{this.goProductDetails(i.get("id"))}})}goProductDetails(i){this.stopApi=this._ProductsService.getSpecificProduct(i).subscribe({next:n=>{this.ProductDetailsloadingClass="hidden",this.ProductDetails=n,this.ProductDetailsImages=n.data.images}})}addToCart(i){this._CartService.addProductToCart(i).subscribe({next:n=>{this._CartService.CartCount.set(n.numOfCartItems),this.addToCartSuccess(n.message)}})}addToCartSuccess(i){this._ToastrService.success("",`${i}`,{timeOut:2e3})}addToCartFaild(i){this._ToastrService.error("",`${i}`,{timeOut:2e3})}ngOnDestroy(){this.stopApi?.unsubscribe()}};a.\u0275fac=function(n){return new(n||a)(P(k),P(j))},a.\u0275cmp=T({type:a,selectors:[["app-product-details"]],standalone:!0,features:[O],decls:1,vars:1,consts:[["mainImage",""],["sliderImage",""],[1,"container","mx-auto","p-6"],[1,"shadow-[0px_0px_4px_1px_#a0aec0]","rounded"],[1,"flex","flex-col","md:flex-row"],[1,"flex-none","w-full","md:w-4/12","p-4"],[1,"main-image","h-full"],["alt","Product Image",1,"w-full","h-full","object-cover","border","border-gray-300","rounded-lg",3,"src"],[1,"h-px","my-2","bg-gray-400","border-0","dark:bg-gray-700"],[1,"flex-1","flex","flex-col"],[1,"p-2","flex-1","order-first","md:order-2"],[1,"grid","grid-cols-1"],[3,"options"],["carouselSlide",""],[1,"p-4","flex-1","order-last","md:order-1","mb-5"],[1,"text-3xl","font-bold","mb-4"],[1,"text-gray-700","mb-6"],[1,"RatingAndPrice","mt-5","flex","items-center","justify-between","w-full"],[1,"main-color","text-xl","font-bold"],[1,"main-color","text-l","font-bold"],[1,"text-gray-900"],[1,"flex","items-center"],[1,"fas","fa-star","text-yellow-500"],[1,"fa-solid","fa-star-half-stroke","text-yellow-500"],[1,"text-l","font-semibold"],[1,"btn-main","py-2","px-4","mt-5",3,"click"],["alt","Product Image Details",1,"sup-image","w-full","h-48","object-cover","border","border-gray-300","rounded-lg",3,"click","src"]],template:function(n,f){n&1&&u(0,J,36,9,"div",2),n&2&&x(0,f.ProductDetails?0:-1)},dependencies:[z,V,R],styles:['.main-image[_ngcontent-%COMP%], .sup-image[_ngcontent-%COMP%]{cursor:pointer}.loading[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#6d6d6d00;justify-items:center;align-items:center;z-index:999}.main[_ngcontent-%COMP%]{min-height:620px}.loader[_ngcontent-%COMP%]{width:50px;aspect-ratio:1;border-radius:50%;border:8px solid rgba(0,0,0,0);border-right-color:#00ad0a;position:relative;animation:_ngcontent-%COMP%_l24 1s infinite linear}.loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-8px;border-radius:50%;border:inherit;animation:inherit;animation-duration:2s}.loader[_ngcontent-%COMP%]:after{animation-duration:4s}@keyframes _ngcontent-%COMP%_l24{to{transform:rotate(1turn)}}']});let t=a;return t})();export{nt as ProductDetailsComponent};
