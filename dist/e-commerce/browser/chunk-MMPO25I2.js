import{a as k}from"./chunk-GSLUPLH2.js";import{l as B}from"./chunk-ELOXY6EJ.js";import{a as T,b as h,c as A,d as N,h as R,i as q,j as D,k as G,m as V}from"./chunk-PHGWHCKP.js";import"./chunk-G5KA7DMQ.js";import{h as E,i as x}from"./chunk-UGVWQPDG.js";import{h as S}from"./chunk-XC3E7FJG.js";import{Eb as w,Fb as F,Mb as a,Tb as y,Wa as s,Wb as v,da as f,ga as C,lb as p,nb as _,rb as c,vb as n,wb as i,xb as b}from"./chunk-Y44U2H2M.js";var M=(e,o)=>({"is-valid":e,"is-invalid":o});function j(e,o){e&1&&(n(0,"p"),a(1,"Email is Required"),i())}function P(e,o){e&1&&(n(0,"p"),a(1,"Enter Valid Email "),i())}function I(e,o){if(e&1&&(n(0,"div",5),p(1,j,2,0,"p")(2,P,2,0),i()),e&2){let d,m=F();s(),c(1,(d=m.LoginForm.get("email"))!=null&&d.getError("required")?1:(d=m.LoginForm.get("email"))!=null&&d.getError("email")?2:-1)}}function O(e,o){e&1&&(n(0,"p"),a(1,"password is Required"),i())}function U(e,o){e&1&&(n(0,"p"),a(1,"must be at least 6 chars"),i())}function W(e,o){if(e&1&&(n(0,"div",5),p(1,O,2,0,"p")(2,U,2,0),i()),e&2){let d,m=F();s(),c(1,(d=m.LoginForm.get("password"))!=null&&d.getError("required")?1:(d=m.LoginForm.get("password"))!=null&&d.getError("pattern")?2:-1)}}function z(e,o){e&1&&(n(0,"span",11),a(1,"Login"),i(),n(2,"span"),b(3,"i",12),i())}function H(e,o){e&1&&(n(0,"span"),a(1,"Login"),i())}var ie=(()=>{let o=class o{constructor(){this._AuthService=f(k),this._FormBuilder=f(G),this._Router=f(E),this._ToastrService=f(B),this.isLoading=!1,this.LoginForm=this._FormBuilder.group({email:[null,[h.required,h.email]],password:[null,[h.required]]})}submitLoginForm(){this.LoginForm.valid?(this.isLoading=!0,this.fetchApi()):(this.LoginForm.markAllAsTouched(),this.isLoading=!1)}fetchApi(){this._AuthService.setLoginForm(this.LoginForm.value).subscribe({next:m=>{m.message=="success"&&(this.showSuccess(),setTimeout(()=>{localStorage.setItem("userToken",m.token),this._AuthService.saveUserData(),this._Router.navigate(["/home"])},1500)),this.isLoading=!1},error:()=>{this.isLoading=!1}})}showSuccess(){this._ToastrService.success("","Success Welcome \u263A..!",{timeOut:1500,positionClass:"toast-top-center"})}};o.\u0275fac=function(L){return new(L||o)},o.\u0275cmp=C({type:o,selectors:[["app-login"]],standalone:!0,features:[y],decls:20,vars:13,consts:[[1,"w-full","sm:w-8/12","lg:w-6/12","mx-auto","shadow","p-5","mb-10"],[1,"text-xl","sm:text-2xl","pt-6","sm:pt-10","main-color","font-semibold"],[1,"pt-6","sm:pt-10","pb-10",3,"ngSubmit","formGroup"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["type","email","id","email","formControlName","email",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngClass"],[1,"bg-red-200","p-2","mt-2","mb-3","rounded"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["type","password","id","password","formControlName","password",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"ngClass"],[1,"flex","flex-row","items-center","justify-between","gap-4"],["routerLink","/forget",1,"text-sm","text-blue-600","hover:underline"],["type","submit",1,"link-style","mt-5","mb-5",3,"disabled"],[1,"pr-1"],[1,"fa","fa-spinner","fa-spin"]],template:function(L,t){if(L&1&&(n(0,"div",0)(1,"h1",1),a(2,"Login Now"),i(),n(3,"form",2),w("ngSubmit",function(){return t.submitLoginForm()}),n(4,"div")(5,"label",3),a(6,"Email:"),i(),b(7,"input",4),p(8,I,3,1,"div",5),i(),n(9,"div")(10,"label",6),a(11,"Password:"),i(),b(12,"input",7),p(13,W,3,1,"div",5),i(),n(14,"div",8)(15,"a",9),a(16,"Forget Password"),i(),n(17,"button",10),p(18,z,4,0)(19,H,2,0),i()()()()),L&2){let r,u,l,g;s(3),_("formGroup",t.LoginForm),s(4),_("ngClass",v(7,M,!((r=t.LoginForm.get("email"))!=null&&r.errors)&&(((r=t.LoginForm.get("email"))==null?null:r.touched)||((r=t.LoginForm.get("email"))==null?null:r.dirty)),((r=t.LoginForm.get("email"))==null?null:r.errors)&&(((r=t.LoginForm.get("email"))==null?null:r.touched)||((r=t.LoginForm.get("email"))==null?null:r.dirty)))),s(),c(8,(u=t.LoginForm.get("email"))!=null&&u.errors&&((u=t.LoginForm.get("email"))!=null&&u.touched||(u=t.LoginForm.get("email"))!=null&&u.dirty)?8:-1),s(4),_("ngClass",v(10,M,!((l=t.LoginForm.get("password"))!=null&&l.errors)&&(((l=t.LoginForm.get("password"))==null?null:l.touched)||((l=t.LoginForm.get("password"))==null?null:l.dirty)),((l=t.LoginForm.get("password"))==null?null:l.errors)&&(((l=t.LoginForm.get("password"))==null?null:l.touched)||((l=t.LoginForm.get("password"))==null?null:l.dirty)))),s(),c(13,(g=t.LoginForm.get("password"))!=null&&g.errors&&((g=t.LoginForm.get("password"))!=null&&g.touched||(g=t.LoginForm.get("password"))!=null&&g.dirty)?13:-1),s(4),_("disabled",t.LoginForm.invalid||t.isLoading),s(),c(18,t.isLoading?18:19)}},dependencies:[V,R,T,A,N,q,D,x,S]});let e=o;return e})();export{ie as LoginComponent};
